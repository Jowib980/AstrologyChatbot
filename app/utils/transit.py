# app/utils/transit_interpretations.py

transit_interpretations = {
    "Sun": {
        1: "Sun in your 1st house brings vitality, confidence and a focus on self-expression. This is a time when you may feel more in control of your life, but it can also bring ego clashes if not handled well. Career-wise, you could be in the spotlight, but personal relationships may require patience.",
        2: "Sun in your 2nd house emphasizes finances, possessions and self-worth. You may have opportunities to increase your income, but avoid unnecessary expenses. This period is favorable for investments and practical financial planning.",
        3: "Sun in your 3rd house encourages communication, learning, and networking. You may travel short distances more often, connect with siblings, or engage in writing/speaking opportunities. Be mindful of overconfidence in debates.",
        4: "Sun in your 4th house focuses on home, property, and family matters. Renovations, real estate deals, or family gatherings are likely. Emotional security becomes important now.",
        5: "Sun in your 5th house brings creativity, romance, and opportunities for self-expression. Good for artistic pursuits, starting a love relationship, or spending time with children. Avoid risky speculations.",
        6: "Sun in your 6th house brings focus to work, health, and daily routines. You may gain recognition for your service or face challenges from competition. Take care of health-related matters proactively.",
        7: "Sun in your 7th house emphasizes partnerships, marriage, and public relations. New business alliances or relationship decisions may come up. Maintain diplomacy to avoid conflicts.",
        8: "Sun in your 8th house brings transformation, joint finances, and deeper emotional insights. Be cautious in shared money matters and avoid unnecessary disputes.",
        9: "Sun in your 9th house encourages travel, higher learning, and spiritual pursuits. This is a good time for publishing, teaching, or expanding your worldview.",
        10: "Sun in your 10th house brings career growth, recognition, and leadership opportunities. Your reputation could improve, but you may also face higher expectations.",
        11: "Sun in your 11th house favors social connections, networking, and long-term goals. You may join new groups or communities and benefit from friendships.",
        12: "Sun in your 12th house encourages introspection, spirituality, and charitable work. You may feel a need to withdraw temporarily to recharge your inner self."
    },

    "Moon": {
        1: "Moon in your 1st house makes you emotionally expressive and sensitive to your surroundings. Mood fluctuations may affect your decisions. Focus on emotional balance.",
        2: "Moon in your 2nd house emphasizes finances and family values. You may have an emotional connection to your possessions. Avoid impulsive spending.",
        3: "Moon in your 3rd house encourages communication, travel, and sibling relationships. Good for writing and artistic expression.",
        4: "Moon in your 4th house strengthens family bonds and emotional comfort at home. Property matters may also arise.",
        5: "Moon in your 5th house heightens creativity and romance. You may spend more time with children or pursue hobbies.",
        6: "Moon in your 6th house brings focus to work, service, and health routines. Emotional stress could affect your well-beingâ€”practice relaxation.",
        7: "Moon in your 7th house influences partnerships and marriage. Emotional needs may drive relationship decisions.",
        8: "Moon in your 8th house increases intuition and interest in joint finances. Avoid secrecy and hidden emotional issues.",
        9: "Moon in your 9th house favors travel, higher learning, and philosophical thinking.",
        10: "Moon in your 10th house emphasizes career and public reputation. Emotional satisfaction comes from professional achievements.",
        11: "Moon in your 11th house enhances social connections and group activities. Friendships may become emotionally important.",
        12: "Moon in your 12th house increases introspection and spiritual awareness. Avoid over-isolating yourself."
    },

    "Mars": {
        1: "Mars in your 1st house increases energy, confidence, and initiative. Be careful of impulsive actions and arguments.",
        2: "Mars in your 2nd house emphasizes financial activity but can bring impulsive spending. Avoid conflicts over money.",
        3: "Mars in your 3rd house boosts communication and short travels. Be cautious in arguments with siblings or neighbors.",
        4: "Mars in your 4th house may cause domestic tensions. Channel energy into home improvement projects.",
        5: "Mars in your 5th house brings passion in romance and creativity. Avoid speculative risks.",
        6: "Mars in your 6th house enhances productivity and competition. Watch out for health issues related to stress.",
        7: "Mars in your 7th house may cause relationship conflicts. Work on compromise in partnerships.",
        8: "Mars in your 8th house brings intensity to shared resources and emotional connections. Avoid confrontations.",
        9: "Mars in your 9th house encourages adventurous travel and new learning. Avoid being overly aggressive in beliefs.",
        10: "Mars in your 10th house boosts ambition and career drive. Avoid conflicts with superiors.",
        11: "Mars in your 11th house energizes social goals but may cause disputes with friends.",
        12: "Mars in your 12th house brings hidden energy. Avoid secretive conflicts and focus on spiritual discipline."
    },

    "Mercury": {
        1: "Mercury in your 1st house sharpens intellect and communication. Good for learning and negotiations.",
        2: "Mercury in your 2nd house favors financial planning and persuasive speech. Avoid being overly materialistic.",
        3: "Mercury in your 3rd house enhances writing, networking, and travel. Avoid gossip.",
        4: "Mercury in your 4th house aids family discussions and home planning.",
        5: "Mercury in your 5th house boosts creativity and love communication.",
        6: "Mercury in your 6th house helps work efficiency but avoid overthinking.",
        7: "Mercury in your 7th house aids partnership agreements. Avoid miscommunication.",
        8: "Mercury in your 8th house deepens research skills. Avoid manipulative speech.",
        9: "Mercury in your 9th house encourages learning and travel.",
        10: "Mercury in your 10th house supports career communication. Avoid office gossip.",
        11: "Mercury in your 11th house strengthens friendships and group projects.",
        12: "Mercury in your 12th house aids spiritual study but avoid over-isolation."
    },

    "Jupiter": {
        1: "Jupiter in your 1st house brings optimism and growth. Avoid overconfidence.",
        2: "Jupiter in your 2nd house boosts finances but watch spending.",
        3: "Jupiter in your 3rd house aids learning and networking.",
        4: "Jupiter in your 4th house improves family harmony.",
        5: "Jupiter in your 5th house brings romance and creativity.",
        6: "Jupiter in your 6th house improves work but may bring weight gain.",
        7: "Jupiter in your 7th house improves partnerships.",
        8: "Jupiter in your 8th house brings financial gains through others.",
        9: "Jupiter in your 9th house favors travel and learning.",
        10: "Jupiter in your 10th house boosts career growth.",
        11: "Jupiter in your 11th house fulfills long-term goals.",
        12: "Jupiter in your 12th house brings spiritual growth."
    },

    "Venus": {
        1: "Venus in your 1st house increases charm and social appeal.",
        2: "Venus in your 2nd house boosts finances and luxury.",
        3: "Venus in your 3rd house improves communication and relationships.",
        4: "Venus in your 4th house enhances home comfort.",
        5: "Venus in your 5th house boosts romance and creativity.",
        6: "Venus in your 6th house improves work relationships.",
        7: "Venus in your 7th house strengthens partnerships.",
        8: "Venus in your 8th house intensifies passion.",
        9: "Venus in your 9th house brings travel romance.",
        10: "Venus in your 10th house improves career charm.",
        11: "Venus in your 11th house enhances friendships.",
        12: "Venus in your 12th house brings secret romance."
    },

    "Saturn": {
        1: "Saturn in your 1st house brings responsibility and discipline.",
        2: "Saturn in your 2nd house restricts finances but teaches saving.",
        3: "Saturn in your 3rd house tests communication skills.",
        4: "Saturn in your 4th house brings family duties.",
        5: "Saturn in your 5th house delays romance.",
        6: "Saturn in your 6th house increases workload.",
        7: "Saturn in your 7th house tests partnerships.",
        8: "Saturn in your 8th house brings transformation.",
        9: "Saturn in your 9th house tests beliefs.",
        10: "Saturn in your 10th house brings career discipline.",
        11: "Saturn in your 11th house delays goals but rewards patience.",
        12: "Saturn in your 12th house brings introspection."
    },
    "Rahu": {
        1: "Rahu in 1st House makes you ambitious and unconventional in self-expression.",
        2: "Rahu in 2nd House drives financial ambition but may cause instability.",
        3: "Rahu in 3rd House brings courage and innovative communication.",
        4: "Rahu in 4th House brings unusual property or family experiences.",
        5: "Rahu in 5th House encourages creative risks and speculative ventures.",
        6: "Rahu in 6th House helps defeat competition in unconventional ways.",
        7: "Rahu in 7th House makes partnerships intense and fated.",
        8: "Rahu in 8th House brings sudden changes and occult interests.",
        9: "Rahu in 9th House encourages foreign travel and unique beliefs.",
        10: "Rahu in 10th House boosts ambition and unusual career paths.",
        11: "Rahu in 11th House brings gains through unconventional networks.",
        12: "Rahu in 12th House increases spiritual exploration and foreign connections."
    },
    "Ketu": {
        1: "Ketu in 1st House makes you spiritual and detached from ego.",
        2: "Ketu in 2nd House detaches you from material possessions.",
        3: "Ketu in 3rd House brings skill in communication but avoidance of small talk.",
        4: "Ketu in 4th House detaches from home life to seek inner peace.",
        5: "Ketu in 5th House brings spiritual creativity but detachment in romance.",
        6: "Ketu in 6th House helps overcome obstacles through inner strength.",
        7: "Ketu in 7th House makes relationships karmic and introspective.",
        8: "Ketu in 8th House deepens spiritual transformation.",
        9: "Ketu in 9th House brings nontraditional spirituality and detachment from dogma.",
        10: "Ketu in 10th House makes career paths unusual and service-oriented.",
        11: "Ketu in 11th House detaches from material gains and focuses on service.",
        12: "Ketu in 12th House deepens meditation and past-life connections."
    }
}



def generate_gochar_report(natal_chart, transits):
    lagna_sign = natal_chart["ascendant_sign"]
    report = []

    for planet, transit_sign in transits.items():
        house_num = get_house_from_lagna(lagna_sign, transit_sign)
        text = transit_interpretations.get(planet, {}).get(house_num, "")
        
        report.append({
            "planet": planet,
            "sign": transit_sign,
            "house": house_num,
            "interpretation": text
        })
    
    return report
